<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/konva@9.2.1/konva.min.js"></script>
    <meta charset="utf-8" />
    <title>Konva Line Blob Demo</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      canvas {
        display: block;
        transform: rotateZ(90);
        /* outline: 1px dashed #9f2222; */
      }

      body {
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <div id="container1"></div>
    <div id="container2"></div>
    <div id="container3"></div>
    <div id="container4"></div>
    <script>
      const data = [
        // 100, 100,
        // 150, 300,
        // 600, 500,
        // 150, 800,
        // 100, 1000,
        0.099914531, 0.00288395, 0.104595565, 0.00424821, 0.109276599, 0.006176957, 0.113957633,
        0.00886681, 0.118638667, 0.012567856, 0.1233197, 0.017592802, 0.128000734, 0.024325961,
        0.132681768, 0.033231427, 0.137362802, 0.044859652, 0.142043836, 0.059851546, 0.14672487,
        0.078939117, 0.151405903, 0.102941669, 0.156086937, 0.132756634, 0.160767971, 0.169344258,
        0.165449005, 0.213705622, 0.170130039, 0.266853839, 0.174811073, 0.329778709, 0.179492106,
        0.403405656, 0.18417314, 0.48855032, 0.188854174, 0.585870754, 0.193535208, 0.695819611,
        0.198216242, 0.818599104, 0.202897276, 0.954121608, 0.207578309, 1.101978745, 0.212259343,
        1.26142144, 0.216940377, 1.43135292, 0.221621411, 1.610335926, 0.226302445, 1.79661466,
        0.230983479, 1.988151245, 0.235664512, 2.182675823, 0.240345546, 2.377748944, 0.24502658,
        2.570834516, 0.249707614, 2.759381335, 0.254388648, 2.940910974, 0.259069682, 3.113109431,
        0.263750715, 3.273919469, 0.268431749, 3.421629846, 0.273112783, 3.554956861, 0.277793817,
        3.673112849, 0.282474851, 3.775855776, 0.287155885, 3.863514026, 0.291836918, 3.936981256,
        0.296517952, 3.997677663, 0.301198986, 4.047476447, 0.30588002, 4.088597209, 0.310561054,
        4.123471364, 0.315242088, 4.1545878, 0.319923121, 4.18432956, 0.324604155, 4.214813866,
        0.329285189, 4.247747972, 0.333966223, 4.284312143, 0.338647257, 4.325078575, 0.343328291,
        4.369971613, 0.348009324, 4.418270703, 0.352690358, 4.468653653, 0.357371392, 4.519274392,
        0.362052426, 4.567867032, 0.36673346, 4.611866783, 0.371414494, 4.648538174, 0.376095527,
        4.675102054, 0.380776561, 4.688854572, 0.385457595, 4.687273537, 0.390138629, 4.668109763,
        0.394819663, 4.629462934, 0.399500697, 4.569842917, 0.40418173, 4.488218177, 0.408862764,
        4.384052939, 0.413543798, 4.257334224, 0.418224832, 4.108588847, 0.422905866, 3.938889406,
        0.4275869, 3.749847213, 0.432267933, 3.543589532, 0.436948967, 3.322718442, 0.441630001,
        3.090249256, 0.446311035, 2.849527818, 0.450992069, 2.604127825, 0.455673103, 2.357731579,
        0.460354136, 2.113999726, 0.46503517, 1.876437393, 0.469716204, 1.648265274, 0.474397238,
        1.432304484, 0.479078272, 1.230883237, 0.483759306, 1.045771743, 0.488440339, 0.878149248,
        0.493121373, 0.72860434, 0.497802407, 0.597166693, 0.502483441, 0.483365845, 0.507164475,
        0.386310604, 0.511845509, 0.304781526, 0.516526542, 0.23732859, 0.521207576, 0.182366735,
        0.52588861, 0.138263116, 0.530569644, 0.103411566, 0.535250678, 0.07629153, 0.539931712,
        0.055510536, 0.544612745, 0.039830758, 0.549293779, 0.028181378, 0.553974813, 0.019659243,
        0.558655847, 0.013520611, 0.563336881, 0.009166808,
      ];
      const data1 = [
        0.141461103, 0.018654186, 0.145885529, 0.02600099, 0.150309955, 0.035856786, 0.15473438,
        0.048925783, 0.159158806, 0.066055217, 0.163583232, 0.088246662, 0.168007657, 0.116662472,
        0.172432083, 0.152625372, 0.176856509, 0.197609151, 0.181280935, 0.253218484, 0.18570536,
        0.321156236, 0.190129786, 0.403177103, 0.194554212, 0.50102723, 0.198978637, 0.616370413,
        0.203403063, 0.750702659, 0.207827489, 0.905258122, 0.212251914, 1.080910684, 0.21667634,
        1.278076567, 0.221100766, 1.496624221, 0.225525192, 1.735798213, 0.229949617, 1.994163832,
        0.234374043, 2.26957855, 0.238798469, 2.559195347, 0.243222894, 2.859501227, 0.24764732,
        3.166392128, 0.252071746, 3.475283024, 0.256496172, 3.781249521, 0.260920597, 4.079194836,
        0.265345023, 4.364034002, 0.269769449, 4.630885585, 0.274193874, 4.875260299, 0.2786183,
        5.093235789, 0.283042726, 5.281607434, 0.287467152, 5.438006387, 0.291891577, 5.560977991,
        0.296316003, 5.650016089, 0.300740429, 5.705551441, 0.305164854, 5.728895186, 0.30958928,
        5.722140944, 0.314013706, 5.6880316, 0.318438132, 5.629798801, 0.322862557, 5.550984773,
        0.327286983, 5.45525704, 0.331711409, 5.346226983, 0.336135834, 5.227282916, 0.34056026,
        5.101447359, 0.344984686, 4.971266652, 0.349409112, 4.838738839, 0.353833537, 4.705283114,
        0.358257963, 4.571751158, 0.362682389, 4.438477582, 0.367106814, 4.30536379, 0.37153124,
        4.171986954, 0.375955666, 4.037723976, 0.380380092, 3.90187924, 0.384804517, 3.763804977,
        0.389228943, 3.623004119, 0.393653369, 3.479207534, 0.398077794, 3.332420335, 0.40250222,
        3.182935238, 0.406926646, 3.031314323, 0.411351072, 2.878343711, 0.415775497, 2.724968159,
        0.420199923, 2.572214206, 0.424624349, 2.421111109, 0.429048774, 2.272618276, 0.4334732,
        2.127566492, 0.437897626, 1.986618011, 0.442322051, 1.850248007, 0.446746477, 1.718747185,
        0.451170903, 1.592242897, 0.455595329, 1.470734275, 0.460019754, 1.354135637, 0.46444418,
        1.242322138, 0.468868606, 1.135171964, 0.473293031, 1.032600447, 0.477717457, 0.934582954,
        0.482141883, 0.841165092, 0.486566309, 0.752460438, 0.490990734, 0.668637465, 0.49541516,
        0.589898383, 0.499839586, 0.516453229, 0.504264011, 0.448492682, 0.508688437, 0.386162796,
        0.513112863, 0.329544219, 0.517537289, 0.278637674, 0.521961714, 0.233356558, 0.52638614,
        0.193526683, 0.530810566, 0.158892437, 0.535234991, 0.129128143, 0.539659417, 0.103853046,
        0.544083843, 0.082648281, 0.548508269, 0.065074268, 0.552932694, 0.050687184, 0.55735712,
        0.039053487, 0.561781546, 0.029761824, 0.566205971, 0.022431989, 0.570630397, 0.016720887,
        0.575054823, 0.012325732, 0.579479249, 0.008984829,
      ];
      const data2 = [
        0.107561637, 0.007836136, 0.112002516, 0.011253003, 0.116443395, 0.015963798, 0.120884274,
        0.022373905, 0.125325152, 0.030982984, 0.129766031, 0.042395553, 0.13420691, 0.057328994,
        0.138647789, 0.07661753, 0.143088667, 0.101210633, 0.147529546, 0.132164266, 0.151970425,
        0.170623537, 0.156411304, 0.217795617, 0.160852182, 0.274912276, 0.165293061, 0.343182039,
        0.16973394, 0.423732819, 0.174174819, 0.517546777, 0.178615697, 0.625390175, 0.183056576,
        0.74774192, 0.187497455, 0.884725284, 0.191938334, 1.03604791, 0.196379212, 1.200955411,
        0.200820091, 1.378203773, 0.20526097, 1.566055124, 0.209701849, 1.762300392, 0.214142727,
        1.964310847, 0.218583606, 2.169118653, 0.223024485, 2.373524445, 0.227465364, 2.574227729,
        0.231906242, 2.767973822, 0.236347121, 2.951709277, 0.240788, 3.122736423, 0.245228879,
        3.27885703, 0.249669757, 3.418495255, 0.254110636, 3.540790865, 0.258551515, 3.64565544,
        0.262992394, 3.733786448, 0.267433272, 3.806636771, 0.271874151, 3.866340091, 0.27631503,
        3.915595378, 0.280755909, 3.957516238, 0.285196787, 3.995453024, 0.289637666, 4.032797212,
        0.294078545, 4.072778555, 0.298519424, 4.118266023, 0.302960302, 4.171583475, 0.307401181,
        4.234350504, 0.31184206, 4.307357944, 0.316282939, 4.39048614, 0.320723817, 4.482672222,
        0.325164696, 4.581930304, 0.329605575, 4.685425697, 0.334046454, 4.789600992, 0.338487332,
        4.890348332, 0.342928211, 4.98321867, 0.34736909, 5.063655582, 0.351809969, 5.127238661,
        0.356250847, 5.169920162, 0.360691726, 5.188238454, 0.365132605, 5.179493464, 0.369573484,
        5.141872261, 0.374014362, 5.074517267, 0.378455241, 4.977534695, 0.38289612, 4.851946092,
        0.387336999, 4.699590769, 0.391777877, 4.522990765, 0.396218756, 4.325192339, 0.400659635,
        4.109598675, 0.405100514, 3.879807472, 0.409541392, 3.639464604, 0.413982271, 3.392141638,
        0.41842315, 3.141241116, 0.422864029, 2.889929801, 0.427304907, 2.641097034, 0.431745786,
        2.397333213, 0.436186665, 2.160922499, 0.440627544, 1.933843927, 0.445068422, 1.717776113,
        0.449509301, 1.514102294, 0.45395018, 1.323914193, 0.458391059, 1.148014817, 0.462831937,
        0.986921493, 0.467272816, 0.840871167, 0.471713695, 0.709830057, 0.476154574, 0.593509351,
        0.480595452, 0.491387913, 0.485036331, 0.402741953, 0.48947721, 0.326680749, 0.493918089,
        0.262186676, 0.498358967, 0.208157335, 0.502799846, 0.163447345, 0.507240725, 0.126907493,
        0.511681604, 0.097419278, 0.516122482, 0.073923446, 0.520563361, 0.055441696, 0.52500424,
        0.04109137, 0.529445119, 0.030093476, 0.533885997, 0.021774792, 0.538326876, 0.015565105,
        0.542767755, 0.01099073, 0.547208634, 0.007665508,
      ];
      const data3 = [
        0.068024286, 0.010159721, 0.073227889, 0.014271453, 0.078431492, 0.019791704, 0.083635095,
        0.027097377, 0.088838698, 0.036626976, 0.094042301, 0.048877108, 0.099245904, 0.064393455,
        0.104449507, 0.083755102, 0.109653109, 0.107551421, 0.114856712, 0.136351229, 0.120060315,
        0.170664642, 0.125263918, 0.210898939, 0.130467521, 0.257310746, 0.135671124, 0.309957827,
        0.140874727, 0.368654686, 0.14607833, 0.432936797, 0.151281933, 0.502038537, 0.156485536,
        0.574889628, 0.161689139, 0.65013407, 0.166892742, 0.726174116, 0.172096345, 0.801239918,
        0.177299948, 0.873483128, 0.182503551, 0.941090303, 0.187707154, 1.002409519, 0.192910757,
        1.05608163, 0.19811436, 1.101166145, 0.203317963, 1.137251175, 0.208521565, 1.164537227,
        0.213725168, 1.183885973, 0.218928771, 1.196827352, 0.224132374, 1.205521277, 0.229335977,
        1.212673613, 0.23453958, 1.221409637, 0.239743183, 1.235111619, 0.244946786, 1.25723014,
        0.250150389, 1.291081114, 0.255353992, 1.339642011, 0.260557595, 1.405361335, 0.265761198,
        1.48999499, 0.270964801, 1.59448181, 0.276168404, 1.718868149, 0.281372007, 1.862288345,
        0.28657561, 2.023004051, 0.291779213, 2.198501181, 0.296982816, 2.385638814, 0.302186419,
        2.580840109, 0.307390022, 2.780311475, 0.312593624, 2.980273336, 0.317797227, 3.177184081,
        0.32300083, 3.367938592, 0.328204433, 3.550024166, 0.333408036, 3.721619761, 0.338611639,
        3.881629181, 0.343815242, 4.029644598, 0.349018845, 4.165843357, 0.354222448, 4.290827547,
        0.359426051, 4.405421723, 0.364629654, 4.510448817, 0.369833257, 4.606507001, 0.37503686,
        4.693770845, 0.380240463, 4.77183825, 0.385444066, 4.839640536, 0.390647669, 4.895427122,
        0.395851272, 4.936828918, 0.401054875, 4.960996776, 0.406258478, 4.964803779, 0.411462081,
        4.945093697, 0.416665683, 4.898953238, 0.421869286, 4.823983258, 0.427072889, 4.71854413,
        0.432276492, 4.581952967, 0.437480095, 4.414615049, 0.442683698, 4.218078062, 0.447887301,
        3.995005004, 0.453090904, 3.749068968, 0.458294507, 3.484779809, 0.46349811, 3.207258239,
        0.468701713, 2.921976648, 0.473905316, 2.6344877, 0.479108919, 2.350161427, 0.484312522,
        2.073949314, 0.489516125, 1.810190147, 0.494719728, 1.562467656, 0.499923331, 1.33352481,
        0.505126934, 1.125234576, 0.510330537, 0.938622509, 0.51553414, 0.773933057, 0.520737742,
        0.630729168, 0.525941345, 0.508013757, 0.531144948, 0.404361662, 0.536348551, 0.318051823,
        0.541552154, 0.247191168, 0.546755757, 0.18982389, 0.55195936, 0.144022098, 0.557162963,
        0.107956006, 0.562366566, 0.079943725, 0.567570169, 0.05848219, 0.572773772, 0.042261752,
        0.577977375, 0.03016755, 0.583180978, 0.02127092,
      ];
      const data4 = [
        -12.287986, 0.00001, -11.919677, 0.000016, -11.551367, 0.000026, -11.183057, 0.00004,
        -10.814747, 0.00006, -10.446437, 0.000088, -10.078128, 0.000127, -9.709818, 0.00018,
        -9.341508, 0.00025, -8.973198, 0.000342, -8.604889, 0.00046, -8.236579, 0.00061, -7.868269,
        0.0008, -7.499959, 0.001037, -7.13165, 0.001333, -6.76334, 0.0017, -6.39503, 0.002151,
        -6.02672, 0.002705, -5.658411, 0.003378, -5.290101, 0.00419, -4.921791, 0.00516, -4.553481,
        0.006304, -4.185171, 0.007641, -3.816862, 0.009181, -3.448552, 0.010934, -3.080242,
        0.012905, -2.711932, 0.015095, -2.343623, 0.017499, -1.975313, 0.020106, -1.607003,
        0.022897, -1.238693, 0.025846, -0.870384, 0.028915, -0.502074, 0.032055, -0.133764,
        0.035204, 0.234546, 0.038289, 0.602855, 0.041227, 0.971165, 0.043931, 1.339475, 0.046315,
        1.707785, 0.048298, 2.076094, 0.049811, 2.444404, 0.050806, 2.812714, 0.051252, 3.181024,
        0.051141, 3.549334, 0.05049, 3.917643, 0.049332, 4.285953, 0.047719, 4.654263, 0.045714,
        5.022573, 0.043392, 5.390882, 0.04083, 5.759192, 0.038109, 6.127502, 0.035314, 6.495812,
        0.032528, 6.864121, 0.029833, 7.232431, 0.027312, 7.600741, 0.025048, 7.969051, 0.023122,
        8.33736, 0.021615, 8.70567, 0.020609, 9.07398, 0.020184, 9.44229, 0.020418, 9.8106,
        0.021383, 10.178909, 0.023141, 10.547219, 0.025736, 10.915529, 0.029184, 11.283839,
        0.033465, 11.652148, 0.038512, 12.020458, 0.044199, 12.388768, 0.050342, 12.757078,
        0.056695, 13.125387, 0.062963, 13.493697, 0.068818, 13.862007, 0.07392, 14.230317, 0.07795,
        14.598626, 0.080636, 14.966936, 0.081782, 15.335246, 0.081285, 15.703556, 0.079151,
        16.071866, 0.075492, 16.440175, 0.070511, 16.808485, 0.064488, 17.176795, 0.057745,
        17.545105, 0.050621, 17.913414, 0.04344, 18.281724, 0.03649, 18.650034, 0.030002, 19.018344,
        0.024143, 19.386653, 0.019013, 19.754963, 0.014653, 20.123273, 0.01105, 20.491583, 0.008153,
        20.859892, 0.005885, 21.228202, 0.004155, 21.596512, 0.002869, 21.964822, 0.001938,
        22.333132, 0.00128, 22.701441, 0.000826, 23.069751, 0.000521, 23.438061, 0.000322,
        23.806371, 0.000194, 24.17468, 0.000114,
      ];
      drew("container", data);
      drew("container1", data1);
      drew("container2", data2);
      drew("container3", data3);
      drew("container4", data4);
      function drew(container, dat) {
        var width = 50;
        var height = 100;

        var stage = new Konva.Stage({
          container: container,
          width: width,
          height: height,
        });

        // stage.y(stage.height());
        // 将舞台的scaleY属性设置为-1，以将y轴正方向朝上

        var layer = new Konva.Layer({
          // width: stage.width() - 10,
          // height: stage.height() - 10,
          // scaleX: 0.8,
          // scaleY: 1,
          y: stage.height(),
          scaleY: -1,
        });

        // layer.scaleY(-1);
        // add the layer to the stage
        stage.add(layer);

        const range = [dat[0], dat[0], dat[1], dat[1]];
        for (let i = 0; i < dat.length; i = i + 2) {
          let x = dat[i];
          let y = dat[i + 1];
          if (x < range[0]) {
            range[0] = x;
          }
          if (x > range[1]) {
            range[1] = x;
          }
          if (y < range[2]) {
            range[2] = y;
          }
          if (y > range[3]) {
            range[3] = y;
          }
        }
        let nD = [];
        let xRange = range[1] - range[0];
        let yRange = range[3] - range[2];
        for (let i = 0; i < dat.length; i = i + 2) {
          let x = ((dat[i + 1] - range[2]) / yRange) * layer.width();
          nD.push(x);
          let y = ((dat[i] - range[0]) / xRange) * layer.height();
          nD.push(y);
        }

        var blob = new Konva.Line({
          points: nD,
          fill: "#00D2FF",
          stroke: "black",
          strokeWidth: 0,
          closed: true,
          // tension: 0.3,
        });

        // add the shape to the layer
        layer.add(blob);
      }
    </script>
  </body>
</html>
